<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>First-Person 3D on Green Ground</title>
  <link rel="stylesheet" href="style.css">
  <script>
    // Try to load Three.js with fallback
    window.threeLoaded = false;
    
    function initThree() {
      window.threeLoaded = true;
      console.log('Three.js available, enabling start button');
      const startBtn = document.getElementById('startBtn');
      if (startBtn) startBtn.disabled = false;
    }
    
    const script = document.createElement('script');
    script.src = 'https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js';
    script.crossOrigin = 'anonymous';
    script.referrerPolicy = 'no-referrer';
    script.onerror = function() {
      console.warn('CDN failed, loading local fallback...');
      const fallback = document.createElement('script');
      fallback.src = 'three-minimal.js';
      fallback.onload = initThree;
      document.head.appendChild(fallback);
    };
    script.onload = initThree;
    document.head.appendChild(script);
  </script>
  <script src="main.js" defer></script>
</head>
<body>
  <div id="app"></div>
  <div id="overlay" class="overlay">
    <div class="panel">
      <h1>First-Person Scene</h1>
  <p>Click "Start" to enable mouse look (Pointer Lock). For best results, open in your browser (Edge/Chrome), not the in-editor preview.</p>
      <p>Move with <b>WASD</b>, look with mouse, <b>Esc</b> to release pointer.</p>
      <button id="startBtn" class="btn">Start</button>
      <p id="status" class="error" style="display:none"></p>
    </div>
  </div>
  <div class="crosshair" aria-hidden="true"></div>
  <div id="speedMeter" class="speed-meter" aria-live="polite">Speed: 0.00 m/s</div>
  <div id="perfMeter" class="perf-meter" aria-live="polite">FPS: 60 | Quality: High</div>
  <div class="hint">WASD = move • Mouse = look • Space = jump • Q/E = hands • Sprint = Shift or double-tap W • Q/E alternation boosts sprint (up to 3×) • P = toggle performance • Esc = unlock</div>
</body>
</html>
